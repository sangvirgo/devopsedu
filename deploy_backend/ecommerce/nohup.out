
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.3)

2025-04-13T13:01:40.092+07:00  INFO 596918 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Starting EcommerceApplication v0.0.1-SNAPSHOT using Java 21-ea with PID 596918 (/home/soang/linux/deploy_backend/ecommerce/target/ecommerce-0.0.1-SNAPSHOT.jar started by shoeshop in /home/soang/linux/deploy_backend/ecommerce)
2025-04-13T13:01:40.094+07:00 DEBUG 596918 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-13T13:01:40.094+07:00  INFO 596918 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-13T13:01:40.686+07:00  INFO 596918 --- [Ecommerce] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-13T13:01:40.756+07:00  INFO 596918 --- [Ecommerce] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 10 JPA repository interfaces.
2025-04-13T13:01:41.173+07:00  INFO 596918 --- [Ecommerce] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-13T13:01:41.183+07:00  INFO 596918 --- [Ecommerce] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-13T13:01:41.184+07:00  INFO 596918 --- [Ecommerce] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-13T13:01:41.201+07:00  INFO 596918 --- [Ecommerce] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-13T13:01:41.202+07:00  INFO 596918 --- [Ecommerce] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1081 ms
2025-04-13T13:01:41.325+07:00  INFO 596918 --- [Ecommerce] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-13T13:01:41.359+07:00  INFO 596918 --- [Ecommerce] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-13T13:01:41.380+07:00  INFO 596918 --- [Ecommerce] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-13T13:01:41.539+07:00  INFO 596918 --- [Ecommerce] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-13T13:01:41.562+07:00  INFO 596918 --- [Ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-13T13:01:41.777+07:00  INFO 596918 --- [Ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@204b0f07
2025-04-13T13:01:41.778+07:00  INFO 596918 --- [Ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-13T13:01:41.808+07:00  WARN 596918 --- [Ecommerce] [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-13T13:01:41.820+07:00  INFO 596918 --- [Ecommerce] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.28
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-13T13:01:42.536+07:00  INFO 596918 --- [Ecommerce] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-13T13:01:42.625+07:00  INFO 596918 --- [Ecommerce] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-13T13:01:42.862+07:00  INFO 596918 --- [Ecommerce] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-13T13:01:43.577+07:00  WARN 596918 --- [Ecommerce] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-13T13:01:43.590+07:00  INFO 596918 --- [Ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customerUserServiceImplementation
2025-04-13T13:01:43.727+07:00 DEBUG 596918 --- [Ecommerce] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 39 mappings in 'requestMappingHandlerMapping'
2025-04-13T13:01:43.797+07:00 DEBUG 596918 --- [Ecommerce] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-13T13:01:43.875+07:00 DEBUG 596918 --- [Ecommerce] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtValidator, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-13T13:01:43.943+07:00 DEBUG 596918 --- [Ecommerce] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-13T13:01:43.985+07:00 DEBUG 596918 --- [Ecommerce] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-13T13:01:44.074+07:00  INFO 596918 --- [Ecommerce] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-13T13:01:44.084+07:00  INFO 596918 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Started EcommerceApplication in 4.29 seconds (process running for 4.599)
2025-04-13T13:15:58.426+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-13T13:15:58.427+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-13T13:15:58.427+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-13T13:15:58.427+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-13T13:15:58.427+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-13T13:15:58.428+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2385ee72
2025-04-13T13:15:58.429+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@70fc5fec
2025-04-13T13:15:58.429+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-13T13:15:58.429+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/cart/
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/cart/
2025-04-13T13:15:58.455+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-13T13:15:58.497+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-13T13:15:58.497+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-13T13:15:58.500+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.500+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.500+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.500+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.614+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.616+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-13T13:15:58.616+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-13T13:15:58.619+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-13T13:15:58.619+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-13T13:15:58.620+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-13T13:15:58.620+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
2025-04-13T13:15:58.633+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-13T13:15:58.736+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-13T13:15:58.771+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: tansang06092004@gmail.com
2025-04-13T13:15:58.784+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-13T13:15:58.784+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-13T13:15:58.793+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=1, totalPrice=1351499, totalItems=4, totalDiscountedPrice=499, total=1351000, cartItems=[ (truncated)...]
2025-04-13T13:15:58.801+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=1, email=tansang06092004@gmail.com, firstName=Sang, lastName=, mobile=null, r (truncated)...]
2025-04-13T13:15:58.809+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-13T13:15:58.810+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-13T13:15:58.810+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.810+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.812+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.812+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.812+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.813+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-13T13:15:58.813+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-13T13:15:58.813+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
2025-04-13T13:15:58.828+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-13T13:15:58.830+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-13T13:15:58.831+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.831+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
2025-04-13T13:15:58.832+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.832+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.832+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.833+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-13T13:15:58.833+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-13T13:15:58.833+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-13T13:15:58.834+07:00  INFO 596918 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-13T13:15:58.839+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-13T13:15:58.840+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=1, totalPrice=1351499, totalItems=4, totalDiscountedPrice=499, total=1351000, cartItems=[ (truncated)...]
2025-04-13T13:15:58.842+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-13T13:15:58.843+07:00  INFO 596918 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-13T13:15:58.873+07:00  INFO 596918 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: tansang06092004@gmail.com
2025-04-13T13:15:58.874+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-13T13:15:58.877+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=1, email=tansang06092004@gmail.com, firstName=Sang, lastName=, mobile=null, r (truncated)...]
2025-04-13T13:15:58.879+07:00 DEBUG 596918 --- [Ecommerce] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-13T13:15:58.880+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-13T13:15:58.881+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.881+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.882+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.883+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.883+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.883+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-13T13:15:58.883+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-13T13:15:58.883+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-13T13:15:58.884+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-13T13:15:58.889+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-13T13:15:58.907+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: tansang06092004@gmail.com
2025-04-13T13:15:58.907+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-13T13:15:58.909+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=1, email=tansang06092004@gmail.com, firstName=Sang, lastName=, mobile=null, r (truncated)...]
2025-04-13T13:15:58.911+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-13T13:15:58.912+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-13T13:15:58.913+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.913+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-13T13:15:58.914+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-13T13:15:58.914+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-13T13:15:58.914+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-13T13:15:58.914+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-13T13:15:58.914+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-13T13:15:58.915+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-13T13:15:58.915+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-13T13:15:58.921+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        p1_0.id,
        p1_0.brand,
        p1_0.category_id,
        p1_0.color,
        p1_0.created_at,
        p1_0.description,
        p1_0.discount_persent,
        p1_0.discounted_price,
        p1_0.image_url,
        p1_0.num_rating,
        p1_0.price,
        p1_0.quantity,
        p1_0.title 
    from
        product p1_0 
    where
        p1_0.id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        oi1_0.order_id,
        oi1_0.id,
        oi1_0.delivery_date,
        oi1_0.discount_percent,
        oi1_0.discounted_price,
        oi1_0.price,
        oi1_0.product_id,
        oi1_0.quantity,
        oi1_0.size 
    from
        order_item oi1_0 
    where
        oi1_0.order_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-13T13:15:58.940+07:00  INFO 596918 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: tansang06092004@gmail.com
2025-04-13T13:15:58.941+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-13T13:15:58.943+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=1, email=tansang06092004@gmail.com, firstName=Sang, lastName=, mobile=null, r (truncated)...]
2025-04-13T13:15:58.945+07:00 DEBUG 596918 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.3)

2025-04-19T21:08:08.736+07:00  INFO 65334 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Starting EcommerceApplication v0.0.1-SNAPSHOT using Java 21-ea with PID 65334 (/home/soang/linux/deploy_backend/ecommerce/target/ecommerce-0.0.1-SNAPSHOT.jar started by soang in /home/soang/linux/deploy_backend/ecommerce)
2025-04-19T21:08:08.737+07:00 DEBUG 65334 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Running with Spring Boot v3.4.3, Spring v6.2.3
2025-04-19T21:08:08.738+07:00  INFO 65334 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : No active profile set, falling back to 1 default profile: "default"
2025-04-19T21:08:09.340+07:00  INFO 65334 --- [Ecommerce] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-19T21:08:09.409+07:00  INFO 65334 --- [Ecommerce] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 10 JPA repository interfaces.
2025-04-19T21:08:09.846+07:00  INFO 65334 --- [Ecommerce] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-19T21:08:09.857+07:00  INFO 65334 --- [Ecommerce] [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-19T21:08:09.857+07:00  INFO 65334 --- [Ecommerce] [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-04-19T21:08:09.876+07:00  INFO 65334 --- [Ecommerce] [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-19T21:08:09.876+07:00  INFO 65334 --- [Ecommerce] [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms
2025-04-19T21:08:09.997+07:00  INFO 65334 --- [Ecommerce] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-19T21:08:10.044+07:00  INFO 65334 --- [Ecommerce] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.8.Final
2025-04-19T21:08:10.074+07:00  INFO 65334 --- [Ecommerce] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-19T21:08:10.260+07:00  INFO 65334 --- [Ecommerce] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-19T21:08:10.285+07:00  INFO 65334 --- [Ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-19T21:08:10.530+07:00  INFO 65334 --- [Ecommerce] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25d0b918
2025-04-19T21:08:10.531+07:00  INFO 65334 --- [Ecommerce] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-19T21:08:10.566+07:00  WARN 65334 --- [Ecommerce] [           main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-19T21:08:10.578+07:00  INFO 65334 --- [Ecommerce] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.28
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-04-19T21:08:11.364+07:00  INFO 65334 --- [Ecommerce] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    alter table address 
       add column city varchar(50) not null
Hibernate: 
    alter table address 
       add column first_name varchar(50) not null
Hibernate: 
    alter table address 
       add column last_name varchar(50) not null
Hibernate: 
    alter table address 
       add column mobile varchar(15) not null
Hibernate: 
    alter table address 
       add column state varchar(50) not null
Hibernate: 
    alter table address 
       add column street_address varchar(100) not null
Hibernate: 
    alter table address 
       add column zip_code varchar(10) not null
Hibernate: 
    alter table cart 
       add column user_user_id bigint
Hibernate: 
    create table cart_items (
        id bigint not null auto_increment,
        discount_percent integer,
        discounted_price integer,
        price integer,
        quantity integer not null check (quantity>=1),
        size varchar(255),
        cart_id bigint not null,
        product_id bigint not null,
        primary key (id)
    ) engine=InnoDB
Hibernate: 
    alter table category 
       add column category_id bigint not null auto_increment
2025-04-19T21:08:11.699+07:00  WARN 65334 --- [Ecommerce] [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table category 
       add column category_id bigint not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table category 
       add column category_id bigint not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at com.ecommerce.EcommerceApplication.main(EcommerceApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
Caused by: java.sql.SQLSyntaxErrorException: Incorrect table definition; there can be only one auto column and it must be defined as a key
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	... 42 common frames omitted

Hibernate: 
    alter table orders 
       add column status varchar(255)
Hibernate: 
    alter table orders 
       add column shipping_address_id bigint
Hibernate: 
    create table payment_information (
        id bigint not null auto_increment,
        card_number varchar(16) not null,
        cardholder_name varchar(100) not null,
        cvv varchar(3) not null,
        expiration_date varchar(5) not null,
        user_id bigint not null,
        primary key (id)
    ) engine=InnoDB
Hibernate: 
    alter table product 
       modify column color varchar(20)
Hibernate: 
    alter table product 
       modify column description varchar(500)
Hibernate: 
    alter table product 
       add column image_url varchar(255)
Hibernate: 
    alter table product 
       add column quantity integer check (quantity>=0)
Hibernate: 
    create table users (
        user_id bigint not null auto_increment,
        created_at datetime(6),
        email varchar(100),
        first_name varchar(50),
        image_url varchar(255),
        last_name varchar(50),
        mobile varchar(15),
        oauth_provider varchar(255),
        oauth_provider_id varchar(255),
        password varchar(255),
        role varchar(20),
        primary key (user_id)
    ) engine=InnoDB
Hibernate: 
    alter table cart 
       drop index UKl5chi0q62pqpsstmxjnmajfa6
Hibernate: 
    alter table cart 
       add constraint UKl5chi0q62pqpsstmxjnmajfa6 unique (user_user_id)
Hibernate: 
    alter table users 
       drop index UK6dotkott2kjsp8vw4d0m25fb7
Hibernate: 
    alter table users 
       add constraint UK6dotkott2kjsp8vw4d0m25fb7 unique (email)
Hibernate: 
    alter table address 
       add constraint FK6i66ijb8twgcqtetl8eeeed6v 
       foreign key (user_id) 
       references users (user_id)
2025-04-19T21:08:11.960+07:00  WARN 65334 --- [Ecommerce] [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table address 
       add constraint FK6i66ijb8twgcqtetl8eeeed6v 
       foreign key (user_id) 
       references users (user_id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK6i66ijb8twgcqtetl8eeeed6v` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table address 
       add constraint FK6i66ijb8twgcqtetl8eeeed6v 
       foreign key (user_id) 
       references users (user_id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK6i66ijb8twgcqtetl8eeeed6v` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:448) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:269) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at com.ecommerce.EcommerceApplication.main(EcommerceApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK6i66ijb8twgcqtetl8eeeed6v` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	... 41 common frames omitted

Hibernate: 
    alter table cart 
       add constraint FKbut5u81fns8galxagpxo98om4 
       foreign key (user_user_id) 
       references users (user_id)
Hibernate: 
    alter table cart_items 
       add constraint FK99e0am9jpriwxcm6is7xfedy3 
       foreign key (cart_id) 
       references cart (id)
Hibernate: 
    alter table cart_items 
       add constraint FKl7je3auqyq1raj52qmwrgih8x 
       foreign key (product_id) 
       references product (id)
Hibernate: 
    alter table orders 
       add constraint FKh0uue95ltjysfmkqb5abgk7tj 
       foreign key (shipping_address_id) 
       references address (id)
Hibernate: 
    alter table orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users (user_id)
2025-04-19T21:08:12.199+07:00  WARN 65334 --- [Ecommerce] [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users (user_id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK32ql8ubntj5uh44ph9659tiih` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users (user_id)" via JDBC [Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK32ql8ubntj5uh44ph9659tiih` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:448) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:269) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar!/:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar!/:3.4.3]
	at com.ecommerce.EcommerceApplication.main(EcommerceApplication.java:10) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
	at org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40) ~[ecommerce-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`ecommerce`.`#sql-3a1_a5`, CONSTRAINT `FK32ql8ubntj5uh44ph9659tiih` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685) ~[mysql-connector-j-9.1.0.jar!/:9.1.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar!/:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar!/:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.8.Final.jar!/:6.6.8.Final]
	... 41 common frames omitted

Hibernate: 
    alter table payment_information 
       add constraint FK5xb28hck1puvn9ldjnbb1vqm8 
       foreign key (user_id) 
       references users (user_id)
Hibernate: 
    alter table rating 
       add constraint FKf68lgbsbxl310n0jifwpfqgfh 
       foreign key (user_id) 
       references users (user_id)
Hibernate: 
    alter table review 
       add constraint FK6cpw2nlklblpvc7hyt7ko6v3e 
       foreign key (user_id) 
       references users (user_id)
2025-04-19T21:08:12.324+07:00  INFO 65334 --- [Ecommerce] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-19T21:08:12.579+07:00  INFO 65334 --- [Ecommerce] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-19T21:08:13.346+07:00  WARN 65334 --- [Ecommerce] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-19T21:08:13.363+07:00  INFO 65334 --- [Ecommerce] [           main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customerUserServiceImplementation
2025-04-19T21:08:13.506+07:00 DEBUG 65334 --- [Ecommerce] [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 39 mappings in 'requestMappingHandlerMapping'
2025-04-19T21:08:13.573+07:00 DEBUG 65334 --- [Ecommerce] [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-04-19T21:08:13.672+07:00 DEBUG 65334 --- [Ecommerce] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, JwtValidator, DefaultResourcesFilter, DefaultLoginPageGeneratingFilter, DefaultLogoutPageGeneratingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-04-19T21:08:13.736+07:00 DEBUG 65334 --- [Ecommerce] [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-04-19T21:08:13.770+07:00 DEBUG 65334 --- [Ecommerce] [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-04-19T21:08:13.864+07:00  INFO 65334 --- [Ecommerce] [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-04-19T21:08:13.878+07:00  INFO 65334 --- [Ecommerce] [           main] com.ecommerce.EcommerceApplication       : Started EcommerceApplication in 5.496 seconds (process running for 5.866)
2025-04-19T21:08:22.748+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-19T21:08:22.748+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-19T21:08:22.749+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-04-19T21:08:22.749+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-04-19T21:08:22.749+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-04-19T21:08:22.751+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2a84aed7
2025-04-19T21:08:22.752+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7643c43
2025-04-19T21:08:22.753+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-04-19T21:08:22.753+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/cart/
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/cart/
2025-04-19T21:08:22.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/user/profile
2025-04-19T21:08:22.815+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:08:22.815+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:22.818+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.818+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.819+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.819+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.922+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-8] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978921 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.921Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978921 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.921Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:22.922+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978921 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.921Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978921 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.921Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:22.929+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:08:22.929+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:22.930+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.930+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.930+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.930+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.931+07:00 ERROR 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978931 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.931Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978931 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.931Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:22.931+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978931 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.931Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978931 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.931Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:22.936+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:22.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.939+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978938 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.938Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978938 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.938Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:22.943+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:22.944+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.944+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDQ1MTk3MjQsImV4cCI6MTc0NDU1NTcyNCwiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.Lci_KGRc3M6CP5ELyib1PxEHH545BNPfXF1plTXEQwQ
2025-04-19T21:08:22.946+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : JWT validation error: JWT expired 515978946 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.946Z. Allowed clock skew: 0 milliseconds.

io.jsonwebtoken.ExpiredJwtException: JWT expired 515978946 milliseconds ago at 2025-04-13T14:48:44.000Z. Current time: 2025-04-19T14:08:22.946Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:691) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:830) ~[jjwt-impl-0.12.6.jar!/:0.12.6]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:53) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-04-19T21:08:23.681+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:08:23.682+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Received JWT header: null
2025-04-19T21:08:23.682+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : No JWT token found or invalid format in request
2025-04-19T21:08:23.684+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-19T21:08:23.687+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-04-19T21:08:23.690+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:08:23.690+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Received JWT header: null
2025-04-19T21:08:23.690+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : No JWT token found or invalid format in request
2025-04-19T21:08:23.690+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-04-19T21:08:23.691+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-04-19T21:08:23.799+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-04-19T21:08:23.799+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Received JWT header: null
2025-04-19T21:08:23.799+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : No JWT token found or invalid format in request
2025-04-19T21:08:23.805+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-04-19T21:08:23.806+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Received JWT header: null
2025-04-19T21:08:23.806+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : No JWT token found or invalid format in request
2025-04-19T21:08:31.688+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-04-19T21:08:31.702+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=931472875683-ovkt3eusr3loq5bi9r8lev4q39fajuip.apps.googleusercontent.com&scope=email%20profile&state=HY9Qhd90CZ957_PjHmZ_u8NFJ3vEdXZ7VSomVvAX6SY%3D&redirect_uri=http://localhost:8080/oauth2/callback/google
2025-04-19T21:08:36.488+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/callback/google?state=HY9Qhd90CZ957_PjHmZ_u8NFJ3vEdXZ7VSomVvAX6SY%3D&code=4%2F0Ab_5qllpjz5NgmotRldc1VwHyXBoUdV-63oyypOIRgT7bDK4rQ-UDwUIk_TN7NoSGL2TBg&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid&authuser=0&prompt=none
2025-04-19T21:08:36.540+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token
2025-04-19T21:08:36.546+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-19T21:08:36.546+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0Ab_5qllpjz5NgmotRldc1VwHyXBoUdV-63oyypOIRgT7bDK4rQ-UDwUIk_TN7NoSGL2TBg], redirect_uri=[http://localhost:8080/oauth2/callback/google]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2025-04-19T21:08:36.882+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-19T21:08:36.884+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json;charset=utf-8"
2025-04-19T21:08:36.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      : Bt u loadUser vi userRequest: org.springframework.security.oauth2.client.userinfo.OAuth2UserRequest@7d732050
2025-04-19T21:08:36.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/userinfo
2025-04-19T21:08:36.897+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-19T21:08:37.003+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-19T21:08:37.004+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-04-19T21:08:37.007+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      : OAuth2User loaded vi attributes: {sub=101444382086414879643, name=Sang, given_name=Sang, picture=https://lh3.googleusercontent.com/a/ACg8ocJ-lbSSVM-k4EZG_NUwOj8lrY_9OyLFkWjgYhpERLzogmDPpQ=s96-c, email=tansang06092004@gmail.com, email_verified=true}
2025-04-19T21:08:37.007+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      : X l user t provider: google
2025-04-19T21:08:37.007+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      : Attributes t OAuth2User: {name=Sang, sub=101444382086414879643, email_verified=true, given_name=Sang, picture=https://lh3.googleusercontent.com/a/ACg8ocJ-lbSSVM-k4EZG_NUwOj8lrY_9OyLFkWjgYhpERLzogmDPpQ=s96-c, email=tansang06092004@gmail.com}
2025-04-19T21:08:37.007+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      :  ly c thng tin: email=tansang06092004@gmail.com, name=Sang, providerId=101444382086414879643
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
2025-04-19T21:08:37.109+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      : To user mi vi email: tansang06092004@gmail.com
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, image_url, last_name, mobile, oauth_provider, oauth_provider_id, password, role) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19T21:08:37.278+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.service.CustomOAuth2UserService      :  to user mi vi ID: 1
2025-04-19T21:08:37.281+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 85E6FFC5B6B6A016069DC87CA370EED0
2025-04-19T21:08:37.282+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [101444382086414879643], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{name=Sang, sub=101444382086414879643, email_verified=true, given_name=Sang, picture=https://lh3.googleusercontent.com/a/ACg8ocJ-lbSSVM-k4EZG_NUwOj8lrY_9OyLFkWjgYhpERLzogmDPpQ=s96-c, email=tansang06092004@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=85E6FFC5B6B6A016069DC87CA370EED0], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-04-19T21:08:37.282+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : OAuth2 Authentication success handler c kch hot
2025-04-19T21:08:37.282+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : Authentication details: OAuth2AuthenticationToken [Principal=Name: [101444382086414879643], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{name=Sang, sub=101444382086414879643, email_verified=true, given_name=Sang, picture=https://lh3.googleusercontent.com/a/ACg8ocJ-lbSSVM-k4EZG_NUwOj8lrY_9OyLFkWjgYhpERLzogmDPpQ=s96-c, email=tansang06092004@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=85E6FFC5B6B6A016069DC87CA370EED0], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-04-19T21:08:37.282+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {name=Sang, sub=101444382086414879643, email_verified=true, given_name=Sang, picture=https://lh3.googleusercontent.com/a/ACg8ocJ-lbSSVM-k4EZG_NUwOj8lrY_9OyLFkWjgYhpERLzogmDPpQ=s96-c, email=tansang06092004@gmail.com}
2025-04-19T21:08:37.282+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : Email t OAuth2User: tansang06092004@gmail.com
2025-04-19T21:08:37.313+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : JWT token  c to cho email: tansang06092004@gmail.com
2025-04-19T21:08:37.314+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] c.e.c.OAuth2AuthenticationSuccessHandler : Chuyn hng n: http://localhost:5173/oauth2/redirect?token=eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:37.314+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:5173/oauth2/redirect?token=eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.804+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:38.805+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.805+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.807+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.808+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.808+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.808+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:38.810+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:38.811+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:38.831+07:00  INFO 65334 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.845+07:00  INFO 65334 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : User found with ID: 1
2025-04-19T21:08:38.846+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
2025-04-19T21:08:38.847+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.847+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.848+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.848+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.848+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.849+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-19T21:08:38.849+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-19T21:08:38.849+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:38.861+07:00 ERROR 65334 --- [Ecommerce] [io-8080-exec-10] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.873+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.874+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:38.880+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:38.880+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:38.881+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.881+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.882+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.882+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.882+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.882+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:38.883+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:38.883+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:38.883+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    insert 
    into
        cart
        (discount, total_discounted_price, total_items, total_price, user_user_id) 
    values
        (?, ?, ?, ?, ?)
2025-04-19T21:08:38.887+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:38.890+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:38.892+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.893+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:38.893+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:38.894+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:38.895+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.895+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:38.896+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:38.897+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.901+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:38.903+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:38.904+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.905+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:38.905+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:38.907+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:38.908+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.908+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.908+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.909+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.909+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.909+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.910+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:38.910+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:38.910+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:38.911+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
2025-04-19T21:08:38.912+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=2, totalPrice=0, totalItems=0, totalDiscountedPrice=0, total=0, cartItems=[])]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
2025-04-19T21:08:38.914+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.916+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:08:38.918+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.918+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.919+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.919+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.919+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.919+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-19T21:08:38.919+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-19T21:08:38.919+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : User found with ID: 1
2025-04-19T21:08:38.920+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.926+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:38.930+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.930+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:38.932+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-19T21:08:38.934+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:38.936+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.936+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:38.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:38.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:38.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:38.937+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:38.938+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:38.938+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.938+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=2, totalPrice=0, totalItems=0, totalDiscountedPrice=0, total=0, cartItems=[])]
2025-04-19T21:08:38.938+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:38.938+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-1] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
2025-04-19T21:08:38.939+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:38.946+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-1] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:38.950+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-1] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:38.952+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:38.953+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:38.954+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:55.090+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:55.091+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:55.091+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:55.091+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:55.092+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:55.092+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:55.092+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:55.092+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:55.092+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:55.092+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:55.096+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:55.099+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:55.100+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:55.100+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:55.101+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:55.102+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:08:55.102+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:55.103+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:08:55.103+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:08:55.103+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:08:55.103+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:08:55.104+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:08:55.104+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:08:55.104+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:08:55.104+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:08:55.108+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:08:55.109+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:08:55.111+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:08:55.111+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:08:55.111+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:08:56.744+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorization/google
2025-04-19T21:08:56.746+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to https://accounts.google.com/o/oauth2/v2/auth?response_type=code&client_id=931472875683-ovkt3eusr3loq5bi9r8lev4q39fajuip.apps.googleusercontent.com&scope=email%20profile&state=G0DskzRujFdxHvrNqIbF6pIKfwuw2Hzi4ArTS1T9HBM%3D&redirect_uri=http://localhost:8080/oauth2/callback/google
2025-04-19T21:09:10.726+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/callback/google?state=G0DskzRujFdxHvrNqIbF6pIKfwuw2Hzi4ArTS1T9HBM%3D&code=4%2F0Ab_5qlkOZgSmj8Q3nsOBlXx2GaFvkgpoTl4dsF8tCE0_q3CO86wMps24GPc2RM8lVJPVPA&scope=email+profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=2&prompt=none
2025-04-19T21:09:10.728+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : HTTP POST https://www.googleapis.com/oauth2/v4/token
2025-04-19T21:09:10.728+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-19T21:09:10.728+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Writing [{grant_type=[authorization_code], code=[4/0Ab_5qlkOZgSmj8Q3nsOBlXx2GaFvkgpoTl4dsF8tCE0_q3CO86wMps24GPc2RM8lVJPVPA], redirect_uri=[http://localhost:8080/oauth2/callback/google]}] as "application/x-www-form-urlencoded;charset=UTF-8"
2025-04-19T21:09:11.042+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-19T21:09:11.042+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [org.springframework.security.oauth2.core.endpoint.OAuth2AccessTokenResponse] as "application/json;charset=utf-8"
2025-04-19T21:09:11.043+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      : Bt u loadUser vi userRequest: org.springframework.security.oauth2.client.userinfo.OAuth2UserRequest@472b6c25
2025-04-19T21:09:11.044+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : HTTP GET https://www.googleapis.com/oauth2/v3/userinfo
2025-04-19T21:09:11.044+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Accept=[application/json, application/*+json]
2025-04-19T21:09:11.162+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Response 200 OK
2025-04-19T21:09:11.162+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.web.client.RestTemplate              : Reading to [java.util.Map<java.lang.String, java.lang.Object>]
2025-04-19T21:09:11.163+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      : OAuth2User loaded vi attributes: {sub=111194025296074592145, name=Polo n, given_name=Polo, family_name=n, picture=https://lh3.googleusercontent.com/a/ACg8ocJM6_QGPGgEPl76yV5EjSAVhmXSUmZFCn8BaG0CgUBokIO_03gu=s96-c, email=sangshin0987@gmail.com, email_verified=true}
2025-04-19T21:09:11.163+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      : X l user t provider: google
2025-04-19T21:09:11.163+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      : Attributes t OAuth2User: {sub=111194025296074592145, email_verified=true, name=Polo n, given_name=Polo, family_name=n, picture=https://lh3.googleusercontent.com/a/ACg8ocJM6_QGPGgEPl76yV5EjSAVhmXSUmZFCn8BaG0CgUBokIO_03gu=s96-c, email=sangshin0987@gmail.com}
2025-04-19T21:09:11.163+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      :  ly c thng tin: email=sangshin0987@gmail.com, name=Polo n, providerId=111194025296074592145
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
2025-04-19T21:09:11.166+07:00  INFO 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      : To user mi vi email: sangshin0987@gmail.com
Hibernate: 
    insert 
    into
        users
        (created_at, email, first_name, image_url, last_name, mobile, oauth_provider, oauth_provider_id, password, role) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-19T21:09:11.241+07:00  INFO 65334 --- [Ecommerce] [io-8080-exec-10] c.e.service.CustomOAuth2UserService      :  to user mi vi ID: 2
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6597423A39ACED41DA49E7AB8BD5633F
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] .s.o.c.w.OAuth2LoginAuthenticationFilter : Set SecurityContextHolder to OAuth2AuthenticationToken [Principal=Name: [111194025296074592145], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=111194025296074592145, email_verified=true, name=Polo n, given_name=Polo, family_name=n, picture=https://lh3.googleusercontent.com/a/ACg8ocJM6_QGPGgEPl76yV5EjSAVhmXSUmZFCn8BaG0CgUBokIO_03gu=s96-c, email=sangshin0987@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6597423A39ACED41DA49E7AB8BD5633F], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : OAuth2 Authentication success handler c kch hot
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : Authentication details: OAuth2AuthenticationToken [Principal=Name: [111194025296074592145], Granted Authorities: [[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]], User Attributes: [{sub=111194025296074592145, email_verified=true, name=Polo n, given_name=Polo, family_name=n, picture=https://lh3.googleusercontent.com/a/ACg8ocJM6_QGPGgEPl76yV5EjSAVhmXSUmZFCn8BaG0CgUBokIO_03gu=s96-c, email=sangshin0987@gmail.com}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=6597423A39ACED41DA49E7AB8BD5633F], Granted Authorities=[OAUTH2_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : OAuth2User attributes: {sub=111194025296074592145, email_verified=true, name=Polo n, given_name=Polo, family_name=n, picture=https://lh3.googleusercontent.com/a/ACg8ocJM6_QGPGgEPl76yV5EjSAVhmXSUmZFCn8BaG0CgUBokIO_03gu=s96-c, email=sangshin0987@gmail.com}
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : Email t OAuth2User: sangshin0987@gmail.com
2025-04-19T21:09:11.242+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : JWT token  c to cho email: sangshin0987@gmail.com
2025-04-19T21:09:11.243+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] c.e.c.OAuth2AuthenticationSuccessHandler : Chuyn hng n: http://localhost:5173/oauth2/redirect?token=eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:11.243+07:00 DEBUG 65334 --- [Ecommerce] [io-8080-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:5173/oauth2/redirect?token=eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.759+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:09:12.760+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:09:12.760+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3MTcsImV4cCI6MTc0NTEwNzcxNywiZW1haWwiOiJ0YW5zYW5nMDYwOTIwMDRAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.AbiBygOFO2YZcCgjDaEtuoSDI5WdjuZbQjv6DRpjt4s
2025-04-19T21:09:12.760+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted email from JWT: tansang06092004@gmail.com
2025-04-19T21:09:12.761+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.761+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: tansang06092004@gmail.com
2025-04-19T21:09:12.761+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.761+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.761+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.761+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Getting profile for user with email: tansang06092004@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.767+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : User found with ID: 1
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:09:12.770+07:00 ERROR 65334 --- [Ecommerce] [nio-8080-exec-5] c.ecommerce.controller.UserController    : Error getting user profile: 

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35) ~[!/:0.0.1-SNAPSHOT]
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67) ~[!/:0.0.1-SNAPSHOT]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76) ~[!/:0.0.1-SNAPSHOT]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar!/:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar!/:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar!/:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

java.lang.NullPointerException: Cannot invoke "com.ecommerce.model.Address.getId()" because "address" is null
	at com.ecommerce.DTO.AddressDTO.<init>(AddressDTO.java:18)
	at com.ecommerce.DTO.OrderDTO.<init>(OrderDTO.java:35)
	at com.ecommerce.controller.UserController.getUserProfile(UserController.java:67)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:220)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.ecommerce.config.JwtValidator.doFilterInternal(JwtValidator.java:76)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-04-19T21:09:12.772+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:09:12.772+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=An unexpected error occurred: Cannot invoke "com.ecommerce.model.Address.getId()" because "ad (truncated)...]
2025-04-19T21:09:12.772+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-04-19T21:09:12.773+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:09:12.774+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.774+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.775+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.776+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.776+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : Getting profile for user with email: sangshin0987@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.780+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : User found with ID: 2
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:09:12.782+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-2] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: sangshin0987@gmail.com
2025-04-19T21:09:12.786+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-19T21:09:12.791+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:09:12.792+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.792+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.793+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.793+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.793+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.793+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-19T21:09:12.794+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-19T21:09:12.794+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
2025-04-19T21:09:12.796+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=2, email=sangshin0987@gmail.com, firstName=Polo, lastName=n, mobile=null, ro (truncated)...]
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.805+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:09:12.806+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
Hibernate: 
    insert 
    into
        cart
        (discount, total_discounted_price, total_items, total_price, user_user_id) 
    values
        (?, ?, ?, ?, ?)
2025-04-19T21:09:12.807+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.807+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.808+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.808+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.809+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.809+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.809+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.809+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.809+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Getting profile for user with email: sangshin0987@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.814+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : User found with ID: 2
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
2025-04-19T21:09:12.816+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-6] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: sangshin0987@gmail.com
2025-04-19T21:09:12.816+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-19T21:09:12.818+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=2, email=sangshin0987@gmail.com, firstName=Polo, lastName=n, mobile=null, ro (truncated)...]
2025-04-19T21:09:12.818+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:09:12.819+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=3, totalPrice=0, totalItems=0, totalDiscountedPrice=0, total=0, cartItems=[])]
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.820+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.821+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.821+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:09:12.821+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.821+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.821+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.821+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-4] c.ecommerce.controller.UserController    : Getting profile for user with email: sangshin0987@gmail.com
2025-04-19T21:09:12.822+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cart/
2025-04-19T21:09:12.822+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.822+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cart/
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cart/", parameters={}
2025-04-19T21:09:12.823+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.CartController#findUserCart(String)
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
2025-04-19T21:09:12.826+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-4] c.ecommerce.controller.UserController    : User found with ID: 2
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        c1_0.user_user_id 
    from
        cart c1_0 
    where
        c1_0.user_user_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-19T21:09:12.828+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-4] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: sangshin0987@gmail.com
2025-04-19T21:09:12.829+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:09:12.829+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-04-19T21:09:12.829+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CartDTO(id=3, totalPrice=0, totalItems=0, totalDiscountedPrice=0, total=0, cartItems=[])]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
2025-04-19T21:09:12.829+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-19T21:09:12.830+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=2, email=sangshin0987@gmail.com, firstName=Polo, lastName=n, mobile=null, ro (truncated)...]
2025-04-19T21:09:12.831+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:09:12.832+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:09:12.833+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.833+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.834+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.835+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : Getting profile for user with email: sangshin0987@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.842+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : User found with ID: 2
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-19T21:09:12.845+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-3] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: sangshin0987@gmail.com
2025-04-19T21:09:12.846+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-19T21:09:12.847+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=2, email=sangshin0987@gmail.com, firstName=Polo, lastName=n, mobile=null, ro (truncated)...]
2025-04-19T21:09:12.848+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:09:12.849+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/user/profile
2025-04-19T21:09:12.850+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Received JWT header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.850+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Processing JWT token: eyJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3NDUwNzE3NTEsImV4cCI6MTc0NTEwNzc1MSwiZW1haWwiOiJzYW5nc2hpbjA5ODdAZ21haWwuY29tIiwiYXV0aG9yaXRpZXMiOiJST0xFX0NVU1RPTUVSIn0.dSrT7nZSaK2pRq_JJhGL81LjIwe9Ge8ZIYZNiT4bxsU
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted email from JWT: sangshin0987@gmail.com
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Extracted authorities from JWT: ROLE_CUSTOMER
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] com.ecommerce.config.JwtValidator        : Authentication set in SecurityContext for email: sangshin0987@gmail.com
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/user/profile
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/user/profile", parameters={}
2025-04-19T21:09:12.851+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.ecommerce.controller.UserController#getUserProfile()
2025-04-19T21:09:12.852+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Getting profile for user with email: sangshin0987@gmail.com
Hibernate: 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    select
        c1_0.id,
        c1_0.discount,
        c1_0.total_discounted_price,
        c1_0.total_items,
        c1_0.total_price,
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.image_url,
        u1_0.last_name,
        u1_0.mobile,
        u1_0.oauth_provider,
        u1_0.oauth_provider_id,
        u1_0.password,
        u1_0.role 
    from
        cart c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_user_id 
    where
        c1_0.user_user_id=?
2025-04-19T21:09:12.857+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : User found with ID: 2
Hibernate: 
    select
        a1_0.user_id,
        a1_0.id,
        a1_0.city,
        a1_0.first_name,
        a1_0.last_name,
        a1_0.mobile,
        a1_0.state,
        a1_0.street_address,
        a1_0.zip_code 
    from
        address a1_0 
    where
        a1_0.user_id=?
Hibernate: 
    select
        o1_0.user_id,
        o1_0.id,
        o1_0.delivery_date,
        o1_0.discount,
        o1_0.order_date,
        o1_0.order_status,
        pd1_0.id,
        pd1_0.created_at,
        pd1_0.payment_date,
        pd1_0.payment_log,
        pd1_0.payment_method,
        pd1_0.payment_status,
        pd1_0.total_amount,
        pd1_0.transaction_id,
        pd1_0.updated_at,
        pd1_0.vnp_response_code,
        pd1_0.vnp_secure_hash,
        o1_0.payment_status,
        sa1_0.id,
        sa1_0.city,
        sa1_0.first_name,
        sa1_0.last_name,
        sa1_0.mobile,
        sa1_0.state,
        sa1_0.street_address,
        sa1_0.user_id,
        sa1_0.zip_code,
        o1_0.status,
        o1_0.total_amount,
        o1_0.total_discounted_price,
        o1_0.total_items 
    from
        orders o1_0 
    left join
        payment_details pd1_0 
            on o1_0.id=pd1_0.order_id 
    left join
        address sa1_0 
            on sa1_0.id=o1_0.shipping_address_id 
    where
        o1_0.user_id=?
Hibernate: 
    select
        ci1_0.cart_id,
        ci1_0.id,
        ci1_0.discount_percent,
        ci1_0.discounted_price,
        ci1_0.price,
        ci1_0.product_id,
        ci1_0.quantity,
        ci1_0.size 
    from
        cart_items ci1_0 
    where
        ci1_0.cart_id=?
2025-04-19T21:09:12.860+07:00  INFO 65334 --- [Ecommerce] [nio-8080-exec-7] c.ecommerce.controller.UserController    : Successfully retrieved profile for user: sangshin0987@gmail.com
2025-04-19T21:09:12.860+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
Hibernate: 
    select
        r1_0.user_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.product_id,
        r1_0.rating 
    from
        rating r1_0 
    where
        r1_0.user_id=?
Hibernate: 
    select
        pi1_0.user_id,
        pi1_0.id,
        pi1_0.card_number,
        pi1_0.cardholder_name,
        pi1_0.cvv,
        pi1_0.expiration_date 
    from
        payment_information pi1_0 
    where
        pi1_0.user_id=?
2025-04-19T21:09:12.861+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserProfileResponse(id=2, email=sangshin0987@gmail.com, firstName=Polo, lastName=n, mobile=null, ro (truncated)...]
2025-04-19T21:09:12.863+07:00 DEBUG 65334 --- [Ecommerce] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-04-19T21:11:04.253+07:00  INFO 65334 --- [Ecommerce] [ionShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-04-19T21:11:04.262+07:00  INFO 65334 --- [Ecommerce] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-04-19T21:11:04.267+07:00  INFO 65334 --- [Ecommerce] [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-19T21:11:04.268+07:00  INFO 65334 --- [Ecommerce] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-19T21:11:04.270+07:00  INFO 65334 --- [Ecommerce] [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
